<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>AMRD top-level flow</title>
</head>
<body>
<h4>AMRD: top-level flow <br>
</h4>
<span style="font-weight: bold;"><span style="font-weight: bold;"><br>
nbs example: (user source files: <a href="../../examples/nbs/nbs.c">nbs.c</a>,
<a href="../../examples/nbs/num.f">num.f</a>, <a
 href="../../examples/nbs/num.h">num.h</a>)<br>
<br>
&gt; cd /pamr/examples/nbs/run<br>
&gt; cat <a href="../../examples/nbs/nbs.fparam">../nbs.fparam</a> <a
 href="../../examples/nbs/run/nbs.rtparam">nbs.rtparam</a> &gt;
nbs.param<br>
&gt; qsub <a href="../../examples/nbs/run/nbs.pbs">nbs.pbs</a><br>
</span></span><span style="font-weight: bold;"></span><br>
<hr style="width: 100%; height: 2px;"><span style="font-style: italic;"><br>
</span>file: <a href="../../amrd/amrd.c"><span
 style="font-weight: bold;">amrd.c</span></a><span
 style="font-style: italic;"><br>
<br>
main()<br>
{<br>
&nbsp;&nbsp;&nbsp; <span style="color: rgb(51, 51, 255);">app_var_pre_init()</span>;&nbsp;&nbsp;&nbsp;
// reads user parameters<br>
<br>
&nbsp;&nbsp;&nbsp; init_context();&nbsp;&nbsp; // in </span><span
 style="font-weight: bold;"><a href="../../amrd/io.c">io.c</a><span
 style="font-style: italic;">:</span></span><span
 style="font-style: italic;"> reads AMRD parameters, then initializes
PAMR context<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="color: rgb(51, 51, 255);">app_var_post_init()</span>;&nbsp;&nbsp;
// reads user parameters<br>
<br>
&nbsp;&nbsp;&nbsp; generate_id();&nbsp;&nbsp; // in </span><a
 href="../../amrd/evolve.c"><span style="font-weight: bold;">evolve.c</span></a><span
 style="font-style: italic;">: calculates initial hierarchy, and solves
initial data<br>
<br>
&nbsp;&nbsp;&nbsp; evolve(AMRD_steps);&nbsp;&nbsp; //&nbsp; in </span><a
 href="../../amrd/evolve.c"><span style="font-weight: bold;">evolve.c</span></a><span
 style="font-style: italic;">: evolves in time for the desired number
of steps<br>
}<br>
<br>
</span>
</body>
</html>
